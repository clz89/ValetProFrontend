{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Documents/GitHub/ValetProFrontend/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/Chris/Documents/GitHub/ValetProFrontend/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Chris/Documents/GitHub/ValetProFrontend/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useState,useEffect}from'react';import{createCar,updateCar}from'../../_actions/subCars';import{updatePull}from'../../_actions/pulls';import{useDispatch,useSelector}from'react-redux';import{upReset}from'../../_actions/updateForm';var formReducer=function formReducer(state,event){if(event.reset){return{};}return _objectSpread(_objectSpread({},state),{},_defineProperty({},event.name,event.value));};function Pay(_ref){var pullId=_ref.pullId,setModal=_ref.setModal;var post=useSelector(function(state){return state.updateForm;});var pos=Object.values(post);useEffect(function(){var jso=JSON.stringify(post);localStorage.setItem(\"upform2\",jso);});var json=localStorage.getItem(\"pay\");var savedNotes=JSON.parse(json);var dispatch=useDispatch();var length=pos.length;var _useReducer=useReducer(formReducer,length!==0&&post._id!==1?post:savedNotes?savedNotes:{room:880,type:\"on\"}),_useReducer2=_slicedToArray(_useReducer,2),formData=_useReducer2[0],setFormData=_useReducer2[1];var handleChange=function handleChange(event){if(formData._id===post._id){setFormData({name:event.target.name,value:event.target.value});}};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!formData.complete&&formData.price&&formData.payment){var _id=formData._id;dispatch(updateCar(_id,formData));dispatch(updatePull(_id,formData));dispatch(upReset(post));setFormData({reset:true});setModal(false);}};var jsont=JSON.stringify(formData);localStorage.setItem(\"pay\",jsont);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"pay\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Pay Ticket\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"paydiv\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"paybtn\",name:\"price\",value:formData.price||'',children:formData.price||''})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"paybtn\",name:\"price\",value:\"$20\",onClick:handleChange,children:\"$20\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"paybtn\",name:\"price\",value:\"$10\",onClick:handleChange,children:\"$10\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"paybtn\",name:\"price\",value:\"$7\",onClick:handleChange,children:\"$7\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"paybtn\",name:\"price\",value:\"$44\",onClick:handleChange,children:\"$44\"})})]}),pullId,/*#__PURE__*/_jsxs(\"div\",{className:\"paydiv\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",classsName:\"paybtn\",name:\"payment\",value:formData.payment||'payment',children:formData.payment||'payment'})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",classsName:\"paybtn\",name:\"payment\",value:\"Cash\",onClick:handleChange,children:\"Cash\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",classsName:\"paybtn\",name:\"payment\",value:\"CreditCard\",onClick:handleChange,children:\"Credit\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",classsName:\"paybtn\",name:\"payment\",value:\"FrontDesk\",onClick:handleChange,children:\"House\"})}),/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",classsName:\"paybtn\",name:\"payment\",value:\"Bitcoin\",onClick:handleChange,children:\"Bitcoin\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bdiv\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mbtn paysubmit\",type:\"submit\",onClick:handleSubmit,children:\"Set to Paid\"})})]})});};export default Pay;","map":{"version":3,"sources":["C:/Users/Chris/Documents/GitHub/ValetProFrontend/Client/src/components/List/Pay.js"],"names":["React","useReducer","useState","useEffect","createCar","updateCar","updatePull","useDispatch","useSelector","upReset","formReducer","state","event","reset","name","value","Pay","pullId","setModal","post","updateForm","pos","Object","values","jso","JSON","stringify","localStorage","setItem","json","getItem","savedNotes","parse","dispatch","length","_id","room","type","formData","setFormData","handleChange","target","handleSubmit","e","preventDefault","complete","price","payment","jsont"],"mappings":"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","sourcesContent":["import React, { useReducer, useState, useEffect } from 'react';\r\nimport { createCar, updateCar } from '../../_actions/subCars';\r\nimport { updatePull } from '../../_actions/pulls';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { upReset } from '../../_actions/updateForm';\r\nconst formReducer = (state, event) => {\r\n\r\n   if(event.reset) {\r\n     return {\r\n     \r\n    }\r\n }\r\n  return {\r\n      ...state,\r\n    [event.name]: event.value\r\n  }\r\n  \r\n}\r\nfunction Pay({ pullId, setModal}) {\r\n\r\n  const post = useSelector( state => state.updateForm )\r\n  const pos = Object.values(post)\r\n  \r\n  useEffect (() => {\r\n    const jso = JSON.stringify(post);\r\n      localStorage.setItem(\"upform2\", jso);\r\n    })\r\n  \r\n      const json = localStorage.getItem(\"pay\");\r\n  const savedNotes = JSON.parse(json);\r\n      \r\n  const dispatch = useDispatch() \r\n\r\n  const length = pos.length\r\n\r\n  const [formData, setFormData] = useReducer(formReducer,  \r\n  length!==0 && post._id!==1 ? post : savedNotes ? savedNotes : {room: 880, type: \"on\"});\r\n\r\n      const handleChange = (event) => {     \r\n        if(formData._id === post._id){     \r\n          setFormData({\r\n            name: event.target.name,\r\n            value: event.target.value\r\n          })}}; \r\n\r\n      const handleSubmit = (e) => {\r\n          e.preventDefault();\r\n        if (!formData.complete && formData.price && formData.payment){\r\n          const _id = formData._id    \r\n          dispatch(updateCar(_id, formData))\r\n          dispatch(updatePull(_id, formData))\r\n          dispatch(upReset(post))\r\n          setFormData({reset: true}) \r\n          setModal(false)   } \r\n        }\r\n    \r\n        const jsont = JSON.stringify(formData);\r\n        localStorage.setItem(\"pay\", jsont);\r\n                         \r\n    return (\r\n   <div>\r\n    <form className=\"pay\">\r\n        <p>Pay Ticket</p>\r\n        \r\n        <div className=\"paydiv\">\r\n            <label>\r\n                <button type=\"button\" className=\"paybtn\" name=\"price\" value={formData.price || ''} >{formData.price || ''}</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" className=\"paybtn\" name=\"price\" value=\"$20\" onClick={handleChange} >$20</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" className=\"paybtn\" name=\"price\" value=\"$10\" onClick={handleChange} >$10</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" className=\"paybtn\" name=\"price\" value=\"$7\" onClick={handleChange} >$7</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" className=\"paybtn\" name=\"price\" value=\"$44\" onClick={handleChange} >$44</button>\r\n            </label>\r\n        </div>\r\n        {pullId}\r\n        <div className=\"paydiv\">\r\n            <label>\r\n                <button type=\"button\" classsName=\"paybtn\" name=\"payment\" value={formData.payment || 'payment'} >{formData.payment || 'payment'}</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" classsName=\"paybtn\" name=\"payment\" value=\"Cash\" onClick={handleChange} >Cash</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" classsName=\"paybtn\" name=\"payment\" value=\"CreditCard\" onClick={handleChange} >Credit</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" classsName=\"paybtn\" name=\"payment\"  value=\"FrontDesk\" onClick={handleChange} >House</button>\r\n            </label>\r\n            <label>\r\n                <button type=\"button\" classsName=\"paybtn\" name=\"payment\" value=\"Bitcoin\" onClick={handleChange} >Bitcoin</button>\r\n            </label>\r\n        </div>\r\n        <div className='bdiv'>\r\n        <button className=\"mbtn paysubmit\"  type=\"submit\"  onClick={handleSubmit} >Set to Paid</button>\r\n        </div>\r\n        </form>\r\n    </div>\r\n     )};\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}